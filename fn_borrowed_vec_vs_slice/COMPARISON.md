# Diff sum
## Compairing
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8"/>
</head>
<body style="color:white; background-color:black">
<pre>

<span style="color:#3333FF;">sum_vec ⟶ sum_slice</span>
<span style="color:#3333FF;">────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">  1 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;">pub fn </span><span style="color:#ffffff;background-color:#af0000;">sum_vec</span><span style="color:#ffffff;background-color:#5f0000;">(nums: &amp;</span><span style="color:#ffffff;background-color:#af0000;">Vec&lt;</span><span style="color:#ffffff;background-color:#5f0000;">u32</span><span style="color:#ffffff;background-color:#af0000;">&gt;</span><span style="color:#ffffff;background-color:#5f0000;">) -&gt; u32 {</span><span style="background-color:#5f0000;">              </span><span style="color:#3333FF;">│</span><span style="color:#008700;">  1 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;">pub fn </span><span style="color:#ffffff;background-color:#008700;">sum_slice</span><span style="color:#ffffff;background-color:#005f00;">(nums: &amp;</span><span style="color:#ffffff;background-color:#008700;">[</span><span style="color:#ffffff;background-color:#005f00;">u32</span><span style="color:#ffffff;background-color:#008700;">]</span><span style="color:#ffffff;background-color:#005f00;">) -&gt; u32 {</span><span style="background-color:#005f00;">               </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;">  2 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">        nums.iter().sum()</span>                             <span style="color:#3333FF;">│</span><span style="color:#404040;">  2 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">        nums.iter().sum()</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;">  3 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">}</span>                                                     <span style="color:#3333FF;">│</span><span style="color:#404040;">  3 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">}</span>
</pre>
</body>
</html>

## Assembly
<!-- This file was created with the aha Ansi HTML Adapter. https://github.com/theZiz/aha -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8"/>
</head>
<body style="color:white; background-color:black">
<pre>

<span style="color:#3333FF;">Δ sum_vec_asm.s ⟶ sum_slice_asm.s</span>
<span style="color:#3333FF;">────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span>

<span style="color:#3333FF;">│</span><span style="color:#404040;">  1 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"># rustc</span><span style="color:#af87ff;"> 1</span><span style="color:#ffffff;">.</span><span style="color:#af87ff;">74</span><span style="color:#ffffff;">.</span><span style="color:#af87ff;">0</span>                                        <span style="color:#3333FF;">│</span><span style="color:#404040;">  1 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"># rustc</span><span style="color:#af87ff;"> 1</span><span style="color:#ffffff;">.</span><span style="color:#af87ff;">74</span><span style="color:#ffffff;">.</span><span style="color:#af87ff;">0</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;">  2 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"># Generated with:</span>                                     <span style="color:#3333FF;">│</span><span style="color:#404040;">  2 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"># Generated with:</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;">  3 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"># cargo asm</span>                                           <span style="color:#3333FF;">│</span><span style="color:#404040;">  3 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"># cargo asm</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">  4 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;">#           rust_lib_asm::</span><span style="color:#ffffff;background-color:#af0000;">borrowed_vec</span><span style="color:#ffffff;background-color:#5f0000;">::</span><span style="color:#ffffff;background-color:#af0000;">sum_vec</span><span style="background-color:#5f0000;">       </span><span style="color:#3333FF;">│</span><span style="color:#008700;">  4 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;">#           rust_lib_asm::</span><span style="color:#ffffff;background-color:#008700;">borrowed_slice</span><span style="color:#ffffff;background-color:#005f00;">::</span><span style="color:#ffffff;background-color:#008700;">sum_slice</span><span style="background-color:#005f00;">   </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;">  5 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">#           --rust</span>                                    <span style="color:#3333FF;">│</span><span style="color:#404040;">  5 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">#           --rust</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;">  6 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">#           --build-type release</span>                      <span style="color:#3333FF;">│</span><span style="color:#404040;">  6 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">#           --build-type release</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;">  7 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">#           --target x86_64-pc-windows-gnu</span>            <span style="color:#3333FF;">│</span><span style="color:#404040;">  7 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">#           --target x86_64-pc-windows-gnu</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;">  8 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">#           --asm-style intel</span>                         <span style="color:#3333FF;">│</span><span style="color:#404040;">  8 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;">#           --asm-style intel</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">  9 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;"> </span><span style="color:#5fd7ff;background-color:#5f0000;">mov</span><span style="color:#ffffff;background-color:#5f0000;">     rdx, qword, ptr,</span><span style="color:#5fd7ff;background-color:#5f0000;"> [rcx, +,</span><span style="color:#af87ff;background-color:#5f0000;"> 16</span><span style="color:#5fd7ff;background-color:#5f0000;">]</span><span style="background-color:#5f0000;">                </span><span style="color:#3333FF;">│</span><span style="color:#008700;">    </span><span style="color:#3333FF;">│</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 10 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> test    rdx, rdx</span>                                     <span style="color:#3333FF;">│</span><span style="color:#404040;">  9 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> test    rdx, rdx</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 11 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;"> je      .</span><span style="color:#ffffff;background-color:#af0000;">LBB0_1</span><span style="background-color:#5f0000;">                                      </span><span style="color:#3333FF;">│</span><span style="color:#008700;"> 10 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;"> je      .</span><span style="color:#ffffff;background-color:#008700;">LBB2_1</span><span style="background-color:#005f00;">                                      </span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 12 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;"> </span><span style="color:#5fd7ff;background-color:#5f0000;">mov</span><span style="color:#ffffff;background-color:#5f0000;">     rcx, qword, ptr,</span><span style="color:#5fd7ff;background-color:#5f0000;"> [rcx]</span><span style="background-color:#5f0000;">                       </span><span style="color:#3333FF;">│</span><span style="color:#008700;">    </span><span style="color:#3333FF;">│</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 13 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">cmp</span><span style="color:#ffffff;">     rdx,</span><span style="color:#af87ff;"> 8</span>                                       <span style="color:#3333FF;">│</span><span style="color:#404040;"> 11 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">cmp</span><span style="color:#ffffff;">     rdx,</span><span style="color:#af87ff;"> 8</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 14 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;"> jae     .</span><span style="color:#ffffff;background-color:#af0000;">LBB0_5</span><span style="background-color:#5f0000;">                                      </span><span style="color:#3333FF;">│</span><span style="color:#008700;"> 12 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;"> jae     .</span><span style="color:#ffffff;background-color:#008700;">LBB2_4</span><span style="background-color:#005f00;">                                      </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 15 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> xor     r8d, r8d</span>                                     <span style="color:#3333FF;">│</span><span style="color:#404040;"> 13 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> xor     r8d, r8d</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 16 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> xor     eax, eax</span>                                     <span style="color:#3333FF;">│</span><span style="color:#404040;"> 14 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> xor     eax, eax</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 17 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;"> jmp     .</span><span style="color:#ffffff;background-color:#af0000;">LBB0_4</span><span style="background-color:#5f0000;">                                      </span><span style="color:#3333FF;">│</span><span style="color:#008700;"> 15 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;"> jmp     .</span><span style="color:#ffffff;background-color:#008700;">LBB2_7</span><span style="background-color:#005f00;">                                      </span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 18 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;">.LBB0_1:</span><span style="background-color:#5f0000;">                                              </span><span style="color:#3333FF;">│</span><span style="color:#008700;">    </span><span style="color:#3333FF;">│</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">    </span><span style="color:#3333FF;">│</span>                                                      <span style="color:#3333FF;">│</span><span style="color:#008700;"> 16 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;">.LBB2_1:</span><span style="background-color:#005f00;">                                              </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 19 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> xor     eax, eax</span>                                     <span style="color:#3333FF;">│</span><span style="color:#404040;"> 17 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> xor     eax, eax</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 20 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">ret</span>                                                  <span style="color:#3333FF;">│</span><span style="color:#404040;"> 18 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">ret</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 21 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;">.LBB0_5:</span><span style="background-color:#5f0000;">                                              </span><span style="color:#3333FF;">│</span><span style="color:#008700;">    </span><span style="color:#3333FF;">│</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">    </span><span style="color:#3333FF;">│</span>                                                      <span style="color:#3333FF;">│</span><span style="color:#008700;"> 19 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;">.LBB2_4:</span><span style="background-color:#005f00;">                                              </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 22 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">mov</span><span style="color:#ffffff;">     r8, rdx</span>                                      <span style="color:#3333FF;">│</span><span style="color:#404040;"> 20 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">mov</span><span style="color:#ffffff;">     r8, rdx</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 23 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">and</span><span style="color:#ffffff;">     r8, -</span><span style="color:#af87ff;">8</span>                                       <span style="color:#3333FF;">│</span><span style="color:#404040;"> 21 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">and</span><span style="color:#ffffff;">     r8, -</span><span style="color:#af87ff;">8</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 24 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> pxor    xmm0, xmm0</span>                                   <span style="color:#3333FF;">│</span><span style="color:#404040;"> 22 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> pxor    xmm0, xmm0</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 25 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> xor     eax, eax</span>                                     <span style="color:#3333FF;">│</span><span style="color:#404040;"> 23 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> xor     eax, eax</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 26 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> pxor    xmm1, xmm1</span>                                   <span style="color:#3333FF;">│</span><span style="color:#404040;"> 24 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> pxor    xmm1, xmm1</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 27 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;">.LBB0_6:</span><span style="background-color:#5f0000;">                                              </span><span style="color:#3333FF;">│</span><span style="color:#008700;">    </span><span style="color:#3333FF;">│</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">    </span><span style="color:#3333FF;">│</span>                                                      <span style="color:#3333FF;">│</span><span style="color:#008700;"> 25 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;">.LBB2_5:</span><span style="background-color:#005f00;">                                              </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 28 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> movdqu  xmm2, xmmword, ptr,</span><span style="color:#5fd7ff;"> [rcx, +,</span><span style="color:#af87ff;"> 4</span><span style="color:#5fd7ff;">*rax]</span>          <span style="color:#3333FF;">│</span><span style="color:#404040;"> 26 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> movdqu  xmm2, xmmword, ptr,</span><span style="color:#5fd7ff;"> [rcx, +,</span><span style="color:#af87ff;"> 4</span><span style="color:#5fd7ff;">*rax]</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 29 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm0, xmm2</span>                                   <span style="color:#3333FF;">│</span><span style="color:#404040;"> 27 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm0, xmm2</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 30 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> movdqu  xmm2, xmmword, ptr,</span><span style="color:#5fd7ff;"> [rcx, +,</span><span style="color:#af87ff;"> 4</span><span style="color:#5fd7ff;">*rax, +,</span><span style="color:#af87ff;"> 16</span><span style="color:#5fd7ff;">]</span>   <span style="color:#3333FF;">│</span><span style="color:#404040;"> 28 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> movdqu  xmm2, xmmword, ptr,</span><span style="color:#5fd7ff;"> [rcx, +,</span><span style="color:#af87ff;"> 4</span><span style="color:#5fd7ff;">*rax, +,</span><span style="color:#af87ff;"> 16</span><span style="color:#5fd7ff;">]</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 31 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm1, xmm2</span>                                   <span style="color:#3333FF;">│</span><span style="color:#404040;"> 29 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm1, xmm2</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 32 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">add</span><span style="color:#ffffff;">     rax,</span><span style="color:#af87ff;"> 8</span>                                       <span style="color:#3333FF;">│</span><span style="color:#404040;"> 30 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">add</span><span style="color:#ffffff;">     rax,</span><span style="color:#af87ff;"> 8</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 33 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">cmp</span><span style="color:#ffffff;">     r8, rax</span>                                      <span style="color:#3333FF;">│</span><span style="color:#404040;"> 31 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">cmp</span><span style="color:#ffffff;">     r8, rax</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 34 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;"> jne     .</span><span style="color:#ffffff;background-color:#af0000;">LBB0_6</span><span style="background-color:#5f0000;">                                      </span><span style="color:#3333FF;">│</span><span style="color:#008700;"> 32 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;"> jne     .</span><span style="color:#ffffff;background-color:#008700;">LBB2_5</span><span style="background-color:#005f00;">                                      </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 35 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm1, xmm0</span>                                   <span style="color:#3333FF;">│</span><span style="color:#404040;"> 33 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm1, xmm0</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 36 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> pshufd  xmm0, xmm1,</span><span style="color:#af87ff;"> 238</span>                              <span style="color:#3333FF;">│</span><span style="color:#404040;"> 34 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> pshufd  xmm0, xmm1,</span><span style="color:#af87ff;"> 238</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 37 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm0, xmm1</span>                                   <span style="color:#3333FF;">│</span><span style="color:#404040;"> 35 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm0, xmm1</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 38 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> pshufd  xmm1, xmm0,</span><span style="color:#af87ff;"> 85</span>                               <span style="color:#3333FF;">│</span><span style="color:#404040;"> 36 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> pshufd  xmm1, xmm0,</span><span style="color:#af87ff;"> 85</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 39 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm1, xmm0</span>                                   <span style="color:#3333FF;">│</span><span style="color:#404040;"> 37 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> paddd   xmm1, xmm0</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 40 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> movd    eax, xmm1</span>                                    <span style="color:#3333FF;">│</span><span style="color:#404040;"> 38 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> movd    eax, xmm1</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 41 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;"> jmp     .LBB0_8</span><span style="background-color:#5f0000;">                                      </span><span style="color:#3333FF;">│</span><span style="color:#008700;">    </span><span style="color:#3333FF;">│</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 42 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;">.LBB0_4:</span><span style="background-color:#5f0000;">                                              </span><span style="color:#3333FF;">│</span><span style="color:#008700;">    </span><span style="color:#3333FF;">│</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">    </span><span style="color:#3333FF;">│</span>                                                      <span style="color:#3333FF;">│</span><span style="color:#008700;"> 39 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;"> </span><span style="color:#5fd7ff;background-color:#005f00;">cmp</span><span style="color:#ffffff;background-color:#005f00;">     r8, rdx</span><span style="background-color:#005f00;">                                      </span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">    </span><span style="color:#3333FF;">│</span>                                                      <span style="color:#3333FF;">│</span><span style="color:#008700;"> 40 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;"> je      .LBB2_8</span><span style="background-color:#005f00;">                                      </span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">    </span><span style="color:#3333FF;">│</span>                                                      <span style="color:#3333FF;">│</span><span style="color:#008700;"> 41 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;">.LBB2_7:</span><span style="background-color:#005f00;">                                              </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 43 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">add</span><span style="color:#ffffff;">     eax, dword, ptr,</span><span style="color:#5fd7ff;"> [rcx, +,</span><span style="color:#af87ff;"> 4</span><span style="color:#5fd7ff;">*r8]</span>              <span style="color:#3333FF;">│</span><span style="color:#404040;"> 42 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">add</span><span style="color:#ffffff;">     eax, dword, ptr,</span><span style="color:#5fd7ff;"> [rcx, +,</span><span style="color:#af87ff;"> 4</span><span style="color:#5fd7ff;">*r8]</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 44 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> inc     r8</span>                                           <span style="color:#3333FF;">│</span><span style="color:#404040;"> 43 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> inc     r8</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 45 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;">.LBB0_8:</span><span style="background-color:#5f0000;">                                              </span><span style="color:#3333FF;">│</span><span style="color:#008700;">    </span><span style="color:#3333FF;">│</span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 46 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">cmp</span><span style="color:#ffffff;">     rdx, r8</span>                                      <span style="color:#3333FF;">│</span><span style="color:#404040;"> 44 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">cmp</span><span style="color:#ffffff;">     rdx, r8</span>
<span style="color:#3333FF;">│</span><span style="color:#870000;"> 47 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#5f0000;"> jne     .</span><span style="color:#ffffff;background-color:#af0000;">LBB0_4</span><span style="background-color:#5f0000;">                                      </span><span style="color:#3333FF;">│</span><span style="color:#008700;"> 45 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;"> jne     .</span><span style="color:#ffffff;background-color:#008700;">LBB2_7</span><span style="background-color:#005f00;">                                      </span>
<span style="color:#3333FF;">│</span><span style="color:#870000;">    </span><span style="color:#3333FF;">│</span>                                                      <span style="color:#3333FF;">│</span><span style="color:#008700;"> 46 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;background-color:#005f00;">.LBB2_8:</span><span style="background-color:#005f00;">                                              </span>
<span style="color:#3333FF;">│</span><span style="color:#404040;"> 48 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">ret</span>                                                  <span style="color:#3333FF;">│</span><span style="color:#404040;"> 47 </span><span style="color:#3333FF;">│</span><span style="color:#ffffff;"> </span><span style="color:#5fd7ff;">ret</span>
</pre>
</body>
</html>


## Conclusion
Passing a borrowed vector `&Vec<T>` instead of a borrowed slice `&[T]` introduces an unneccesary indirection and narrows the usability of the function (cannot be used on an array). In trivial cases this indirection will be spotted by the compiler and optimized away, but the usability of the function remains limited. If the indirection is not removed by the compiler, the cost is extra instructions that might be costly if it means another roundtrip to fetch data, the extra instructions are visible on line 8, left side of the side-by-side view:
```asm
mov     rdx, qword, ptr, [rcx, +, 16]
```
The pointer to `Vec<T>` is incremented by 16 and the address is derefenced to load it into `rdx`, this is the length of `Vec<T>`.
This operation is unneccesary when using a slice because a slice is a pointer to the first element and a length (it also includes the size of the elements).
The introduced overhead is retrieving this information through the pointer to `Vec<T>`.

The other additional overhead is loading the address of the first element into `rcx` on l. 11, left of the side-by-side view:
```asm
mov     rcx, qword, ptr, [rcx]
```
The rest of the operations are identical. The slice/vector is summed with SIMD instructions aligned to 8 elements in this case (`u32`), any leftover elements that don't align are summed one-by-one in a loop l. 42-46 on the left and l. 38-44 on the right of the side-by-side view.
